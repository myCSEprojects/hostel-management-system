{% extends "base.html" %}
{% block head %}
    <title>Resident Profile</title>
{% endblock %}
{% block body %}
    <!-- Code for the admin page goes here -->
    <style>
        body{
        /* background-color: #2D2D2D; */
        background-image: url("/static/images/final_background.jpeg");
        background-size: 100%;
    }
    </style>
    <h3 align = "center" style="margin-top:20px; color:white;" >Resident Profile</h3>
    <div style="text-align: right; margin-top: 1rem; margin-right: 1rem;">
        <button type="button" class = "btn btn-dark" data-bs-toggle="modal" data-bs-target="#profile">
          <span>Change Password</span>  
        </button>
    </div>

    <table border="3" height="50%" width="50%" bordercolor="black"
    align="center" style="border-spacing: 0 10px; border-radius: 20px; overflow: hidden; max-width: 55%; margin-top: 25px;" class="table table-striped table-light table-hover" cellpadding ="10" >
        {%for attr,val in stats.items():%}
        {%if attr == 'city':%}
        <tr>
            <th>program</th>
            <td>
                <table>
                    {%for p,b in pb:%}
                    <td >{{p}}</td>
                    {% endfor %}
                </table>
            </td>
        </tr>
        <tr>
            <th>branch</th>
            <td>
                <table>
                    {%for p,b in pb:%}
                    <td>{{b}}</td>
                    {% endfor %}
                </table>
            </td>
        </tr>
        {% endif %}
        <tr>
            <th>{{attr}}</th>
            <td>{{val}}</td>
        </tr>
        {% endfor %}

        <tr>
            <th>Phone numbers:</th>
            <td>
                <table>
                    {%for contact in contacts:%}
                    <td>{{contact[0]}}</td>
                    {% endfor %}
                </table>
            </td>
        </tr>

    </table>


    <div class="modal fade" id="profile" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Change Password</h5>
                    <button type="button" class="close btn btn-dark btn-sm" data-bs-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form class="pop-up-form" action="/resident/profile"  method="POST">
                        <div class="col-md-6">
                            <label for="current_password" class="form-label">Current Password:</label>
                            <input type="password" class="form-control" name="current_password" id="current_password" placeholder="current password" required >
                        
                        </div>

                        <div class="col-md-6">
                            <label for="new_password" class="form-label">New Password:</label>
                            <input type="password" class="form-control" name="new_password" id="new_password" placeholder="new password" required >   
                        </div>

                        <div class="col-md-6">
                            <label for="confirm_password" class="form-label">Confirm Password:</label>
                            <input type="password" class="form-control" name="confirm_password" id="confirm_password" placeholder="confirm new password" required >
                          
                        </div>

                        <div class="col-md-6">
                            <button type="submit" class = "btn btn-dark" name="button" value="submit" style="margin-top: 2rem;">Change</button>   
                        </div>
                         
                      </form>
                            
                </div>
            </div>
        </div>
    </div> 

{% endblock %}